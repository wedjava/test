<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    button {
      margin: 20px auto;
      display: block;
      width: 100px;
      height: 44px;
      line-height: 44px;
      font-size: 20px;
      background-color: skyblue;
      color: white;
      outline: none;
      border: none;
      border-radius: 22px;
    }

    .active {
      background-color: red;
    }
  </style>
</head>

<body>
  <button>ğŸ‘</button>
  <script>
    let btn = document.querySelector('button')
    let handler = function () {
      // console.log(this)
      this.classList.toggle('active')
    }
    btn.addEventListener('click', throttle(handler))

    // èŠ‚æµï¼ˆthrottleï¼‰ï¼šå•ä½æ—¶é—´ï¼ˆä¾‹å¦‚1000ï¼‰å†…ï¼Œäº‹ä»¶åªæ‰§è¡Œä¸€æ¬¡ã€‚
    function throttle(fn, time = 1000) {
      // å•æ‰€é—¨é»˜è®¤å¼€ç€çš„
      let isOpen = true

      return function () {
        // å¦‚æœä¸‹ä¸€ä¸ªäººè¿‡æ¥ï¼Œå‘ç°é—¨æ²¡å¼€ï¼Œé‚£ä»–å°±ä¸èƒ½è¿›å•æ‰€
        if(!isOpen) return
        // å½“æœ‰äººè¿›æ¥åï¼Œç«‹é©¬å°†é—¨å…³ä¸Š
        isOpen = false
        setTimeout(() => {
          fn.apply(this)
          // äº‹æƒ…åšå®Œä»¥åæŠŠé—¨æ‰“å¼€
          isOpen = true
        }, time)
      }
    }
  </script>
</body>

</html>